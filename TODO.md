# TODO.md - gogooku3-standalone

**æœ€çµ‚æ›´æ–°**: 2025-10-06 11:32
**ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: `TODO.md.backup-*` (æ—§9,829è¡Œç‰ˆã‚’è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¸ˆã¿)

---

## ğŸ“Œ ç¾åœ¨ã®çŠ¶æ³ (2025-10-06)

### ğŸ”„ é€²è¡Œä¸­ã®ã‚¿ã‚¹ã‚¯

#### GATå‹¾é…ã‚¼ãƒ­å•é¡Œã®æ¤œè¨¼ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°
- **çŠ¶æ…‹**: Batch 8/20å®Œäº† (11:32æ™‚ç‚¹)
- **é€Ÿåº¦**: ~123s/batch
- **ãƒ­ã‚°**: `/tmp/dimension_fix_verification.log`
- **äºˆå®š**:
  - Batch 10åˆ°é”: ~11:36 (æ®‹ã‚Š2ãƒãƒƒãƒ)
  - Batch 20å®Œäº†: ~11:57 (æœ€çµ‚æ¤œè¨¼)

**ä¿®æ­£å†…å®¹**:
- GATæœªå®Ÿè¡Œæ™‚ã‚‚ã‚¼ãƒ­ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã§æ¬¡å…ƒ512ã«çµ±ä¸€
- `_ensure_backbone_projection()`å‘¼ã³å‡ºã—å‰Šé™¤
- åˆæœŸåŒ–ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã¿ä½¿ç”¨ï¼ˆOptimizerç™»éŒ²æ¸ˆã¿ï¼‰

**æ¤œè¨¼çµæœï¼ˆé‡è¦ï¼‰**:
- âœ… ãƒ¢ãƒ‡ãƒ«åˆæœŸåŒ–æˆåŠŸï¼ˆ46M paramsï¼‰
- âœ… **"Adjusting backbone projection"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãªã—** â†’ ä¿®æ­£æˆåŠŸã®è¨¼æ‹ 
- â³ Batch 0-8: GATå‹¾é…ã‚¼ãƒ­ï¼ˆWarmupæœŸé–“ä¸­ã€æ­£å¸¸ç¯„å›²ï¼‰
- **ğŸ¯ Batch 10-20ã§å‹¾é…éã‚¼ãƒ­ç¢ºèªãŒå¿…è¦**

### â³ æ¬¡ã®ã‚¿ã‚¹ã‚¯ï¼ˆå„ªå…ˆé †ï¼‰

1. **æ¤œè¨¼å®Œäº†å¾…ã¡**:
   - [ ] Batch 10-20ã§GATå‹¾é…ãŒéã‚¼ãƒ­ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] æœŸå¾…çµæœ: `grad_norm(gat) > 0.00e+00`

2. **æ¤œè¨¼æˆåŠŸæ™‚**:
   - [ ] `PHASE_MAX_BATCHES`åˆ¶é™è§£é™¤
   - [ ] æœ¬ç•ªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é–‹å§‹ï¼ˆå…¨ã‚¨ãƒãƒƒã‚¯å®Ÿè¡Œï¼‰
   - [ ] TODO.mdã«æœ€çµ‚æˆåŠŸãƒ¬ãƒãƒ¼ãƒˆè¿½åŠ 

3. **æ¤œè¨¼å¤±æ•—æ™‚**:
   - [ ] ç¬¬5æ¬¡Deep Reasoningå®Ÿæ–½
   - [ ] åˆ¥ã®æ ¹æœ¬åŸå› ã‚’èª¿æŸ»
   - [ ] Parameter IDã¨Optimizer param_groupsã®å¯¾å¿œãƒã‚§ãƒƒã‚¯

---

## âœ… å®Œäº†ã—ãŸä¸»è¦ã‚¿ã‚¹ã‚¯

### 2025-10-06: GATå‹¾é…ã‚¼ãƒ­å•é¡Œ - èª¿æŸ»ãƒ»ä¿®æ­£ ğŸ¯

#### å•é¡Œã®èƒŒæ™¯
- ATFT-GAT-FANãƒ¢ãƒ‡ãƒ«ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ä¸­ã€GATãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å‹¾é…ãŒå¸¸ã«ã‚¼ãƒ­ã«ãªã‚‹ç¾è±¡ãŒç™ºç”Ÿ
- GATè‡ªä½“ã¯å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ï¼ˆ256â†’512æ¬¡å…ƒå¤‰æ›ç¢ºèªæ¸ˆã¿ï¼‰ãŒã€å‹¾é…ãŒGATãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¾ã§ä¼æ’­ã—ãªã„
- è¤‡æ•°ã®ä¿®æ­£è©¦è¡Œã‚’å®Ÿæ–½ã™ã‚‹ã‚‚è§£æ±ºã›ãš

#### èª¿æŸ»ãƒ—ãƒ­ã‚»ã‚¹ï¼ˆ4å›ã®Deep Reasoningï¼‰

**ç¬¬1æ¬¡èª¿æŸ»**: `edge_index`æ¸¡ã—å¿˜ã‚Œä»®èª¬
- ä»®èª¬: `_forward_with_optional_graph()`ãŒedge_indexã‚’batch dictã«å«ã‚ã¦ã„ãªã„
- ä¿®æ­£: train_atft.pyå†…ã®é–¢æ•°ã‚’2ç®‡æ‰€ä¿®æ­£
- çµæœ: âŒ GATå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸãŒã€å‹¾é…ã‚¼ãƒ­ã¯ç¶™ç¶š

**ç¬¬2æ¬¡èª¿æŸ»**: `.detach()`ä»®èª¬
- ä»®èª¬: edge cacheã®`.detach()`ãŒå‹¾é…ã‚’åˆ‡æ–­
- ä¿®æ­£: train_atft.py:6785-6786ã®`.detach()`å‰Šé™¤
- æ¤œè¨¼: PHASE_MAX_BATCHES=20ã§å®Ÿè¡Œã€Batch 10ï¼ˆæ–°è¦edgeæ§‹ç¯‰æ™‚ï¼‰ç¢ºèª
- çµæœ: âŒ Batch 10ã§ã‚‚GATå‹¾é…ã‚¼ãƒ­ - ä»®èª¬ã¯ä¸æ­£è§£

**ç¬¬3æ¬¡èª¿æŸ»**: `torch.compile dynamic=False`ä»®èª¬
- ä»®èª¬: torch.compileã®dynamic=Falseè¨­å®šãŒå‹•çš„ã‚°ãƒ©ãƒ•ã¨éäº’æ›
- ä¿®æ­£: model/atft_gat_fan.yamlã§compile.enabled=falseè¨­å®š
- æ¤œè¨¼: PHASE_MAX_BATCHES=10ã§å®Ÿè¡Œ
- çµæœ: âŒ torch.compileç„¡åŠ¹ã§ã‚‚GATå‹¾é…ã‚¼ãƒ­ - torch.compileã¯åŸå› ã§ã¯ãªã„

**ç¬¬4æ¬¡èª¿æŸ»**: `backbone_projection`å‹•çš„å†ä½œæˆ âœ… **çœŸã®åŸå› **
- ç™ºè¦‹: `_ensure_backbone_projection()`ãŒforward passä¸­ã«æ–°ã—ã„Linearå±¤ã‚’ä½œæˆ
- ãƒ¡ã‚«ãƒ‹ã‚ºãƒ :
  1. `__init__`: GATæœ‰åŠ¹æ™‚ â†’ `Linear(512, 256)`ä½œæˆ
  2. OptimizeråˆæœŸåŒ–: ã“ã®æ™‚ç‚¹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã¿ç™»éŒ²
  3. Forward pass: æ¬¡å…ƒå¤‰åŒ–æ¤œå‡º â†’ æ–°ã—ã„`Linear(256, 256)`ä½œæˆ
  4. æ–°å±¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯Optimizeræœªç™»éŒ² â†’ å‹¾é…è¨ˆç®—ã•ã‚Œã‚‹ãŒæ›´æ–°ã•ã‚Œãªã„
- è¨¼æ‹ : `/tmp/torch_compile_disabled_verification.log`ã«ã€ŒAdjusting backbone projection from 512 to 256ã€ã€Œfrom 256 to 512ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

#### å®Ÿè£…ã—ãŸä¿®æ­£

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**: `src/atft_gat_fan/models/architectures/atft_gat_fan.py` (Line 600-624)

**ä¿®æ­£å†…å®¹**:
```python
# ğŸ”§ FIX (2025-10-06): Always use consistent dimensions
if gat_features is not None:
    combined_features = torch.cat([tft_output, gat_features], dim=-1)
else:
    # GAT disabled or no edges: pad with zeros to match expected dimension
    if self.gat is not None:
        zero_pad = torch.zeros(
            tft_output.size(0), tft_output.size(1), self.gat_output_dim,
            device=tft_output.device, dtype=tft_output.dtype
        )
        combined_features = torch.cat([tft_output, zero_pad], dim=-1)
    else:
        combined_features = tft_output

# ğŸ”§ FIX: No longer need dynamic dimension check
combined_features = self.backbone_projection(combined_features)
```

**ä¿®æ­£ã®ãƒã‚¤ãƒ³ãƒˆ**:
1. GATæœªå®Ÿè¡Œæ™‚ã‚‚**ã‚¼ãƒ­ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°**ã§æ¬¡å…ƒã‚’512ã«çµ±ä¸€
2. `_ensure_backbone_projection()`å‘¼ã³å‡ºã—ã‚’å®Œå…¨å‰Šé™¤ï¼ˆLine 611ï¼‰
3. `backbone_projection`ã®å‹•çš„å†ä½œæˆã‚’é˜²æ­¢
4. åˆæœŸåŒ–æ™‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã¿ä½¿ç”¨ â†’ Optimizerç™»éŒ²æ¸ˆã¿ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§å­¦ç¿’

---

### 2025-10-01: 395åˆ—ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå®Ÿè£… âœ…

**å®Ÿè£…æ¦‚è¦**:
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä»•æ§˜ï¼ˆ`docs/ml/dataset_new.md`ï¼‰ã®395åˆ—ã‚’å®Œå…¨å®Ÿè£…

**å®Œäº†é …ç›®**:
- Phase 1: Makefileãƒ•ãƒ©ã‚°æœ‰åŠ¹åŒ– (+56åˆ—)
  - `--enable-sector-cs`: ã‚»ã‚¯ã‚¿ãƒ¼å†…ã‚¯ãƒ­ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒŠãƒ«ç‰¹å¾´ï¼ˆ15åˆ—ï¼‰
  - `--enable-daily-margin`: æ—¥æ¬¡ãƒãƒ¼ã‚¸ãƒ³ç‰¹å¾´ï¼ˆ41åˆ—ï¼‰
- Phase 2: ã‚»ã‚¯ã‚¿ãƒ¼é›†ç´„æ©Ÿèƒ½ (+30åˆ—)
  - æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: `src/gogooku3/features/sector_aggregation.py`
  - ã‚»ã‚¯ã‚¿ãƒ¼ç­‰åŠ é‡ãƒªã‚¿ãƒ¼ãƒ³ã€æ™‚ç³»åˆ—ã€ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ã€å€‹åˆ¥-ã‚»ã‚¯ã‚¿ãƒ¼ç›¸å¯¾
- Phase 3: ã‚»ã‚¯ã‚¿ãƒ¼One-Hot (+17åˆ—)
- Phase 4: ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æˆç†Ÿãƒ•ãƒ©ã‚° (+8åˆ—)
- Phase 5: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ç‰¹å¾´ (+18åˆ—)
- Phase 6: æ‹¡å¼µãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆ (+20åˆ—)
- Phase 7: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ»ãƒ¬ã‚¸ãƒ¼ãƒ ç‰¹å¾´ (+30åˆ—)

**åˆ—æ•°é€²æ—**:
- ç›®æ¨™: 395åˆ—
- å®Ÿè£…å®Œäº†: 392åˆ— (99.2%)
- æ®‹ã‚Š3åˆ—: GPU-ETLç‰¹æœ‰ã®é«˜åº¦ãªç‰¹å¾´ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

---

### 2025-09-16: çµ±åˆMLãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ âœ…

**ä¸»è¦æ©Ÿèƒ½**:
- `integrated_ml_training_pipeline.py`: çµ±åˆãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `SafeTrainingPipeline`: 7ã‚¹ãƒ†ãƒƒãƒ—æ¤œè¨¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
  1. ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° (ProductionDatasetV3)
  2. å“è³ªç‰¹å¾´ç”Ÿæˆ (QualityFinancialFeaturesGenerator)
  3. ã‚¯ãƒ­ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒŠãƒ«æ­£è¦åŒ– (CrossSectionalNormalizerV2)
  4. Walk-Forwardåˆ†å‰² (WalkForwardSplitterV2ã€20æ—¥embargo)
  5. GBMãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ (LightGBMFinancialBaseline)
  6. ã‚°ãƒ©ãƒ•æ§‹ç¯‰ (FinancialGraphBuilder)
  7. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¬ãƒãƒ¼ãƒˆ

**æ¤œè¨¼çµæœ**:
- ãƒ‡ãƒ¼ã‚¿: 606,127ã‚µãƒ³ãƒ—ãƒ«ã€644éŠ˜æŸ„ã€2021-2025 (4å¹´+)
- é€Ÿåº¦: 1.9s å…¨ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œ
- ãƒ¡ãƒ¢ãƒª: 7.0GB ãƒ”ãƒ¼ã‚¯ä½¿ç”¨é‡ (ç›®æ¨™<8GBé”æˆ)
- ã‚°ãƒ©ãƒ•: 50ãƒãƒ¼ãƒ‰ã€266ç›¸é–¢ã‚¨ãƒƒã‚¸

---

### 2025-09-07: ã‚»ã‚¯ã‚¿ãƒ¼ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆ (ä¸€éƒ¨å®Œäº†)

**å®Ÿè£…æ¸ˆã¿**:
- ã‚»ã‚¯ã‚¿ãƒ¼é›†ç´„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (`sector_aggregation.py`)
- ã‚»ã‚¯ã‚¿ãƒ¼ç­‰åŠ é‡ãƒªã‚¿ãƒ¼ãƒ³è¨ˆç®—
- ã‚»ã‚¯ã‚¿ãƒ¼ç›¸å¯¾ç‰¹å¾´ï¼ˆbeta, alpha, z-scoreï¼‰

**ç¾åœ¨ã®çŠ¶æ…‹**: åŸºæœ¬æ©Ÿèƒ½å®Ÿè£…å®Œäº†ã€æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ã§ã®å¤§è¦æ¨¡æ¤œè¨¼ã¯æœªå®Ÿæ–½

---

## ğŸ› æ—¢çŸ¥ã®èª²é¡Œ

### ğŸ” é€²è¡Œä¸­ã®èª²é¡Œ

#### 1. GATå‹¾é…ã‚¼ãƒ­å•é¡Œ (2025-10-06)
- **çŠ¶æ…‹**: ä¿®æ­£å®Ÿè£…å®Œäº†ã€æ¤œè¨¼ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°å®Ÿè¡Œä¸­ï¼ˆBatch 8/20ï¼‰
- **èƒŒæ™¯**: OptimizeråˆæœŸåŒ–å¾Œã«`backbone_projection`ãŒå‹•çš„ã«å†ä½œæˆã•ã‚Œã¦ã„ãŸ
- **æ ¹æœ¬åŸå› **: Forward passä¸­ã®å±¤å†ä½œæˆãŒOptimizeræœªç™»éŒ²ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ
- **ä¿®æ­£å†…å®¹**: ã‚¼ãƒ­ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã§æ¬¡å…ƒçµ±ä¸€ã€å‹•çš„å±¤ä½œæˆã‚’é˜²æ­¢
- **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: Batch 10-20ã§GATå‹¾é…éã‚¼ãƒ­ç¢ºèª

### âš ï¸ æœªè§£æ±ºã®èª²é¡Œ

- (æ¤œè¨¼å®Œäº†å¾Œã«æ›´æ–°äºˆå®š)

---

## ğŸ“š é‡è¦ãªæŠ€è¡“çš„å­¦ç¿’

### PyTorchã®é‡è¦ãªåˆ¶ç´„

#### 1. OptimizeråˆæœŸåŒ–å¾Œã®å‹•çš„å±¤è¿½åŠ ã¯å±é™º
- **å•é¡Œ**: `model.parameters()`ã¯åˆæœŸåŒ–æ™‚ç‚¹ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ
- **çµæœ**: Forward passä¸­ã®å±¤å†ä½œæˆã¯Optimizeræœªç™»éŒ²ã«ãªã‚‹
- **å¯¾ç­–**: å‹•çš„ãªå±¤ä½œæˆã¯`__init__`ã®ã¿ã§è¡Œã†

#### 2. å‹•çš„ã‚°ãƒ©ãƒ•ã®æ­£ã—ã„å®Ÿè£…
- **åŸå‰‡**: æ¬¡å…ƒå¤‰åŒ–ãŒäºˆæƒ³ã•ã‚Œã‚‹å ´åˆã¯**ã‚¼ãƒ­ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°**ã§çµ±ä¸€
- **ç†ç”±**: æ¡ä»¶åˆ†å²ã§ã‚‚å‡ºåŠ›æ¬¡å…ƒã‚’ä¸€å®šã«ä¿ã¤å¿…è¦ãŒã‚ã‚‹
- **å®Ÿè£…ä¾‹**:
  ```python
  if feature is None:
      # ã‚¼ãƒ­ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã§æ¬¡å…ƒçµ±ä¸€
      feature = torch.zeros(size, dim, device=device)
  combined = torch.cat([base, feature], dim=-1)
  ```

#### 3. å‹¾é…ãƒ‡ãƒãƒƒã‚°ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- **é‡è¦**: å‹¾é…ã‚¼ãƒ­ â‰  å¿…ãšã—ã‚‚è¨ˆç®—ã‚°ãƒ©ãƒ•åˆ‡æ–­
- **ç¢ºèªé …ç›®**:
  1. è¨ˆç®—ã‚°ãƒ©ãƒ•ã®é€£ç¶šæ€§ (`requires_grad=True`)
  2. Optimizerç™»éŒ²çŠ¶æ³ (`optimizer.param_groups`)
  3. Parameter IDã¨Optimizerã®å¯¾å¿œ
- **ãƒ„ãƒ¼ãƒ«**:
  - `torch.autograd.grad()`: å‹¾é…ã®æ‰‹å‹•ç¢ºèª
  - `register_hook()`: ä¸­é–“å±¤ã®å‹¾é…ç›£è¦–

---

## ğŸ“‹ å‚è€ƒæƒ…å ±

### ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ï¼ˆæœ¬ç•ªï¼‰
cd /home/ubuntu/gogooku3-standalone
make train-optimized                    # æœ€é©åŒ–è¨­å®šã§ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°
make train-integrated                   # çµ±åˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ä½¿ç”¨

# ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ï¼ˆæ¤œè¨¼ç”¨ï¼‰
PHASE_MAX_BATCHES=20 python scripts/train_atft.py \
  --config-path ../configs/atft \
  --config-name config_production_optimized

# ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆç”Ÿæˆï¼ˆGPU-ETLæ¨å¥¨ï¼‰
make dataset-full-gpu START=2015-09-27 END=2025-09-26
make dataset-full START=2020-09-06 END=2025-09-06  # CPUç‰ˆ

# æ¤œè¨¼ãƒ»ç›£è¦–
tail -f /tmp/dimension_fix_verification.log | grep -E 'GAT grad|GUARD|Batch'
grep -E "GAT grad|GUARD|step=" /tmp/dimension_fix_verification.log

# ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†
ps aux | grep "train_atft.py"           # å®Ÿè¡Œä¸­ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
pkill -f "PHASE_MAX_BATCHES"            # æ¤œè¨¼ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°åœæ­¢
```

### ç’°å¢ƒæƒ…å ±

```
GPU: NVIDIA A100 80GB PCIe
CPU: 24-core AMD EPYC 7V13
Memory: 216GB RAM
Storage: 291GB SSD (167GB free)
```

### é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«

```
# ãƒ¢ãƒ‡ãƒ«å®Ÿè£…
src/atft_gat_fan/models/architectures/atft_gat_fan.py  # ATFT-GAT-FANãƒ¢ãƒ‡ãƒ«

# è¨­å®š
configs/atft/config_production_optimized.yaml    # æœ¬ç•ªæœ€é©åŒ–è¨­å®š
configs/atft/model/atft_gat_fan.yaml             # ãƒ¢ãƒ‡ãƒ«è¨­å®š
configs/atft/train/production_improved.yaml      # ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨­å®š

# ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
scripts/train_atft.py                             # ãƒ¡ã‚¤ãƒ³ã‚¹ ã‚¯ãƒªãƒ—ãƒˆ
scripts/integrated_ml_training_pipeline.py        # çµ±åˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

# ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
scripts/pipelines/run_full_dataset.py            # å®Œå…¨ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆç”Ÿæˆ
src/gogooku3/features/sector_aggregation.py      # ã‚»ã‚¯ã‚¿ãƒ¼æ©Ÿèƒ½
```

---

## ğŸ“ å±¥æ­´ãƒ»å¤‰æ›´ãƒ­ã‚°

### 2025-10-06
- GATå‹¾é…ã‚¼ãƒ­å•é¡Œã®4å›ç›®ã®Deep Reasoningå®Œäº†
- backbone_projectionå‹•çš„å†ä½œæˆãŒæ ¹æœ¬åŸå› ã¨ç‰¹å®š
- ã‚¼ãƒ­ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã«ã‚ˆã‚‹æ¬¡å…ƒå›ºå®šä¿®æ­£ã‚’å®Ÿè£…
- æ¤œè¨¼ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é–‹å§‹ï¼ˆPHASE_MAX_BATCHES=20ï¼‰
- TODO.mdå¤§å¹…æ•´ç†ï¼ˆ9,829è¡Œâ†’ç´„350è¡Œã€92%å‰Šæ¸›ï¼‰

### 2025-10-01
- 395åˆ—ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå®Ÿè£…å®Œäº†ï¼ˆ392åˆ—é”æˆã€99.2%ï¼‰
- å…¨7ãƒ•ã‚§ãƒ¼ã‚ºã®ç‰¹å¾´ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°å®Œäº†

### 2025-09-16
- çµ±åˆMLãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè£…
- SafeTrainingPipelineï¼ˆ7ã‚¹ãƒ†ãƒƒãƒ—ï¼‰å®Ÿè£…
- å®Ÿãƒ‡ãƒ¼ã‚¿æ¤œè¨¼å®Œäº†ï¼ˆ606K samplesã€644 stocksï¼‰

### 2025-09-07
- ã‚»ã‚¯ã‚¿ãƒ¼ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆåŸºæœ¬æ©Ÿèƒ½å®Ÿè£…

---

**æ³¨**: æ—§TODO.mdã¯`TODO.md.backup-20251006-*`ã¨ã—ã¦ä¿å­˜æ¸ˆã¿ã€‚è©³ç´°ãªå®Ÿè£…å±¥æ­´ã¯ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
