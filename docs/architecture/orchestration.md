# ğŸ”„ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ (ä½œæˆä¸­)

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ç¾åœ¨ä½œæˆä¸­ã§ã™ã€‚

## ğŸ“‹ äºˆå®šå†…å®¹

- **Dagsterè¨­è¨ˆ**: Assetsãƒ»Jobsãƒ»Schedules
- **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©**: ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ»MLå­¦ç¿’ãƒ•ãƒ­ãƒ¼
- **ä¾å­˜é–¢ä¿‚ç®¡ç†**: ã‚¿ã‚¹ã‚¯é–“ä¾å­˜ãƒ»ãƒ‡ãƒ¼ã‚¿ç³»è­œ
- **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°**: ãƒãƒƒãƒå®Ÿè¡Œãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†
- **ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆ**: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç›£è¦–ãƒ»å¤±æ•—æ™‚å¯¾å¿œ

## ğŸ”„ ç¾åœ¨ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

ç¾åœ¨ã®å®Ÿè¡Œæ–¹æ³•ï¼ˆæ‰‹å‹•ãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ™ãƒ¼ã‚¹ï¼‰ï¼š

### å­¦ç¿’ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
```bash
# SafeTrainingPipeline ã«ã‚ˆã‚‹çµ±åˆå®Ÿè¡Œ
gogooku3 train --config configs/atft/train/production.yaml

# ã¾ãŸã¯å¾“æ¥æ–¹å¼
python scripts/run_safe_training.py --n-splits 5
```

### ãƒ‡ãƒ¼ã‚¿å‡¦ç†
```bash
# ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»å‰å‡¦ç†
python scripts/data/ml_dataset_builder.py

# ç‰¹å¾´é‡ç”Ÿæˆ
python -c "from gogooku3.features import QualityFinancialFeaturesGenerator; ..."
```

### æ¨è«–å®Ÿè¡Œ
```bash
# ãƒ¢ãƒ‡ãƒ«æ¨è«–
gogooku3 infer --model-path models/best_model.pth --data-path data/latest.parquet
```

## ğŸ¯ è¨ˆç”»ä¸­ã®ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### Dagster Assets
```python
# è¨ˆç”»ä¸­ã®å®Ÿè£…ä¾‹
@asset
def raw_stock_data():
    """JQuants APIã‹ã‚‰ã®ç”Ÿãƒ‡ãƒ¼ã‚¿å–å¾—"""
    pass

@asset  
def processed_features(raw_stock_data):
    """ç‰¹å¾´é‡ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°"""
    pass

@asset
def trained_model(processed_features):
    """ATFT-GAT-FANå­¦ç¿’"""
    pass

@asset
def predictions(trained_model, processed_features):
    """æ¨è«–å®Ÿè¡Œ"""
    pass
```

### ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š
```python
# æ—¥æ¬¡ãƒãƒƒãƒå®Ÿè¡Œ
daily_schedule = ScheduleDefinition(
    job=ml_training_job,
    cron_schedule="0 2 * * *",  # æ¯æ—¥ 2:00 AM JST
    execution_timezone="Asia/Tokyo"
)

# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†
realtime_sensor = SensorDefinition(
    job=inference_job,
    evaluation_fn=market_data_sensor
)
```

## ğŸ“Š äºˆå®šæ©Ÿèƒ½

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç®¡ç†
- **ä¾å­˜é–¢ä¿‚ã®å¯è¦–åŒ–**: ãƒ‡ãƒ¼ã‚¿ç³»è­œãƒ»ã‚¿ã‚¹ã‚¯ä¾å­˜ã‚°ãƒ©ãƒ•
- **å®Ÿè¡Œå±¥æ­´**: æˆåŠŸ/å¤±æ•—ç‡ãƒ»å®Ÿè¡Œæ™‚é–“å±¥æ­´
- **ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½**: å¤±æ•—æ™‚ã®è‡ªå‹•å†å®Ÿè¡Œ
- **éƒ¨åˆ†å®Ÿè¡Œ**: ç‰¹å®šã®ã‚¿ã‚¹ã‚¯ã®ã¿å®Ÿè¡Œ

### ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆ
- **SLAç›£è¦–**: å®Ÿè¡Œæ™‚é–“ãƒ»æˆåŠŸç‡ã®ç›£è¦–
- **ãƒ‡ãƒ¼ã‚¿å“è³ª**: å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®å“è³ªãƒã‚§ãƒƒã‚¯
- **ãƒ¢ãƒ‡ãƒ«æ€§èƒ½**: äºˆæ¸¬ç²¾åº¦ã®ç¶™ç¶šç›£è¦–
- **ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡**: CPUãƒ»ãƒ¡ãƒ¢ãƒªãƒ»GPUä½¿ç”¨ç‡

### å®Ÿé¨“ç®¡ç†
- **MLflowçµ±åˆ**: å®Ÿé¨“ãƒ»ãƒ¢ãƒ‡ãƒ«ç®¡ç†
- **A/B ãƒ†ã‚¹ãƒˆ**: ãƒ¢ãƒ‡ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¯”è¼ƒ
- **ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–**: Optunaçµ±åˆ
- **è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**: æ€§èƒ½æ”¹å–„æ™‚ã®è‡ªå‹•æœ¬ç•ªåæ˜ 

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

ç¾åœ¨åˆ©ç”¨å¯èƒ½ï¼š
- [ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³](data-pipeline.md) - ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ•ãƒ­ãƒ¼è©³ç´°
- [ãƒ¢ãƒ‡ãƒ«å­¦ç¿’](../ml/model-training.md) - MLå­¦ç¿’ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- [é‹ç”¨æ‰‹é †](../operations/runbooks.md) - ç¾åœ¨ã®æ‰‹å‹•é‹ç”¨æ‰‹é †

è¨ˆç”»ä¸­ï¼š
- **observability.md** - ç›£è¦–ãƒ»ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¨­è¨ˆ
- **feature-store.md** - Feastçµ±åˆè¨­è¨ˆ

---

**ğŸš§ ä½œæˆäºˆå®šæ—¥**: 2025å¹´10æœˆ  
**ğŸ‘¥ æ‹…å½“**: DevOpsãƒ»ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãƒãƒ¼ãƒ 
