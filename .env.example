# J-Quants API credentials
# NOTE: Pipelines expect these names: JQUANTS_AUTH_EMAIL / JQUANTS_AUTH_PASSWORD
# Backward-compat (older scripts): JQUANTS_EMAIL / JQUANTS_PASSWORD
JQUANTS_AUTH_EMAIL=your_email@example.com
JQUANTS_AUTH_PASSWORD=your_password
JQUANTS_EMAIL=
JQUANTS_PASSWORD=

# Storage configuration (MinIO S3-compatible)
MINIO_ENDPOINT=http://localhost:9000
MINIO_ROOT_USER=
MINIO_ROOT_PASSWORD=
MINIO_DEFAULT_BUCKETS=gogooku,feast,mlflow,dagster
MINIO_SECURE=false

# ClickHouse configuration
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_DATABASE=gogooku3
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# Redis configuration (for Feast online store)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# PostgreSQL configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=

# Database passwords for individual services
MLFLOW_DB_PASSWORD=
DAGSTER_DB_PASSWORD=
FEAST_DB_PASSWORD=

# Dagster configuration
DAGSTER_HOME=/opt/dagster/dagster_home
DAGSTER_PG_HOST=localhost
DAGSTER_PG_PORT=5432
DAGSTER_PG_USERNAME=dagster
DAGSTER_PG_PASSWORD=dagster
DAGSTER_PG_DB=dagster

# Processing configuration
MAX_CONCURRENT_FETCH=75  # 有料プラン向け
MAX_PARALLEL_WORKERS=10  # CPU並列数
USE_GPU_ETL=1            # GPU-ETL を既定で有効化（RAPIDS/cuDF が無い場合は自動でCPUフォールバック）
RMM_POOL_SIZE=12GB       # GPUメモリプール（GPU容量に合わせて調整）

# Grafana (Monitoring dashboard)
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=

# Monitoring
PROMETHEUS_PORT=8000
GRAFANA_PORT=3001

# Environment
ENVIRONMENT=development

# ML Training Configuration
OUTPUT_BASE=/home/ubuntu/gogooku3-standalone/output/batch
ADV_GRAPH_TRAIN=false  # Set to true for advanced graph training
PYTORCH_CUDA_ALLOC_CONF=expandable_segments:True  # GPU memory optimization

# HPO (Hyperparameter Optimization)
OPTUNA_STORAGE_URL=sqlite:///output/hpo/optuna.db
HPO_STUDY_NAME=atft_hpo_production
HPO_N_TRIALS=20
HPO_TIMEOUT=3600

# SafeTrainingPipeline Settings
SAFE_PIPELINE_N_SPLITS=2
SAFE_PIPELINE_EMBARGO_DAYS=20
SAFE_PIPELINE_MEMORY_LIMIT_GB=6

# Model Training Defaults
TRAIN_MAX_EPOCHS=100
TRAIN_BATCH_SIZE=512
TRAIN_LEARNING_RATE=0.001
TRAIN_GRADIENT_CLIP=1.0
