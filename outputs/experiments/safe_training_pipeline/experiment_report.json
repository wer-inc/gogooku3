{
  "experiment_info": {
    "name": "safe_training_pipeline",
    "start_time": "2025-08-29T12:37:49.999514",
    "config": {
      "n_splits": 3,
      "embargo_days": 20,
      "sequence_length": 60,
      "prediction_horizons": [
        1,
        5,
        10,
        20
      ],
      "memory_limit_gb": 8.0
    },
    "end_time": "2025-08-29T12:37:51.920599",
    "total_duration_seconds": 1.921084,
    "step_times": {
      "step1_load_data": 0.079736,
      "step2_generate_quality_features": 0.243369,
      "step3_normalize_data": 0.241825,
      "step4_walk_forward_validation": 0.22265,
      "step5_gbm_baseline": 0.752503,
      "step6_graph_construction": 0.116618
    }
  },
  "pipeline_results": {
    "feature_validation": {
      "total_features": 145,
      "missing_daily_vol": false,
      "zero_variance_features": [
        "has_fundamental_data",
        "daily_vol",
        "volume_drop_2sigma",
        "turnover_spike_2sigma"
      ],
      "high_missing_features": [
        "book_value_per_share",
        "PBR"
      ],
      "infinite_features": [
        "ret_10d",
        "ret_1d",
        "ret_20d",
        "ret_2d",
        "ret_3d",
        "ret_5d",
        "label_ret_1_bps",
        "label_ret_5_bps",
        "label_ret_10_bps",
        "label_ret_20_bps",
        "smi"
      ],
      "feature_categories": {
        "price_features": [
          "adjustment_close",
          "adjustment_high",
          "adjustment_low",
          "adjustment_open",
          "bbands10_lower",
          "bbands20_lower",
          "bbands5_lower",
          "gap_open",
          "prev_close",
          "disclosed_date",
          "feat_gap_open",
          "flow_positive_2sigma"
        ],
        "volume_features": [
          "adjustment_volume",
          "log_volume",
          "turnover_value",
          "volume",
          "volume_spike",
          "volume_spike_2sigma",
          "volume_drop_2sigma",
          "turnover_spike_2sigma"
        ],
        "technical_indicators": [
          "atr_14",
          "atr_14_mask",
          "atr_2",
          "atr_2_filled",
          "atr_2_mask",
          "atr_3",
          "atr_3_filled",
          "atr_3_mask",
          "atr_5",
          "atr_5_mask",
          "atr_7",
          "atr_7_mask",
          "ema_10",
          "ema_20",
          "ema_200",
          "ema_5",
          "ema_divergence_12",
          "ema_divergence_26",
          "macd",
          "macd_hist",
          "macd_signal",
          "rsi_14",
          "rsi_14_mask",
          "rsi_2",
          "rsi_2_filled",
          "rsi_2_mask",
          "rsi_3",
          "rsi_3_filled",
          "rsi_3_mask",
          "rsi_5",
          "rsi_5_mask",
          "rsi_7",
          "rsi_7_mask"
        ],
        "volatility_features": [
          "gk_vol",
          "gk_vol_hl2",
          "gk_vol_hl3",
          "gk_vol_hl5",
          "pk_vol",
          "pk_vol_hl2",
          "pk_vol_hl3",
          "pk_vol_hl5",
          "rs_vol",
          "rs_vol_hl2",
          "rs_vol_hl3",
          "rs_vol_hl5",
          "zlog_vol_hl2",
          "zlog_vol_hl3",
          "zlog_vol_hl5",
          "feat_pk_vol",
          "feat_gk_vol",
          "feat_rs_vol",
          "feat_yz_vol",
          "feat_ewm_vol_20d",
          "daily_vol"
        ],
        "flow_features": [
          "smi"
        ],
        "other": [
          "adx_10",
          "adx_14",
          "adx_20",
          "adx_3",
          "adx_7",
          "bbands10_middle",
          "bbands10_upper",
          "bbands20_middle",
          "bbands20_upper",
          "bbands5_middle",
          "bbands5_upper",
          "code",
          "company_name",
          "date",
          "n_short_indicators",
          "obv",
          "range_position",
          "range_ratio",
          "ret_10d",
          "ret_1d",
          "ret_20d",
          "ret_2d",
          "ret_3d",
          "ret_5d",
          "ret_accel_1d",
          "ret_accel_2d",
          "ret_accel_hl2",
          "ret_accel_hl3",
          "roc_10",
          "roc_20",
          "roc_5",
          "roc_60",
          "short_indicator_coverage",
          "stoch14_d",
          "stoch14_k",
          "stoch5_d",
          "stoch5_k",
          "streak_len",
          "streak_sign",
          "streak_strength",
          "zret_hl2",
          "zret_hl3",
          "zret_hl5",
          "actual_shares",
          "earnings_per_share",
          "book_value_per_share",
          "profit",
          "equity",
          "has_fundamental_data",
          "data_quality",
          "market_cap",
          "market_cap_100m",
          "PER",
          "PBR",
          "days_since_disclosure",
          "log_mktcap",
          "o_use",
          "h_use",
          "l_use",
          "c_use",
          "v_use",
          "label_ret_1_bps",
          "label_ret_5_bps",
          "label_ret_10_bps",
          "label_ret_20_bps",
          "feat_ret_1d",
          "feat_amihud_illiq",
          "adv_20d",
          "feat_rng_spread",
          "feat_roll_spread"
        ]
      }
    },
    "graph_construction": {
      "n_nodes": 46,
      "n_edges": 259,
      "stats": {}
    }
  },
  "performance_metrics": {
    "gbm_baseline": {}
  },
  "safety_validation": {
    "normalization": {
      "warnings": [],
      "feature_stats": {},
      "total_samples": 399120,
      "valid_dates": 0
    },
    "walk_forward": {
      "total_splits": 3,
      "overlaps": [
        "Fold 0 train overlaps with Fold 1 train",
        "CRITICAL: Fold 0 train overlaps with Fold 1 test",
        "CRITICAL: Fold 0 train overlaps with Fold 2 test",
        "Fold 1 train overlaps with Fold 2 train",
        "CRITICAL: Fold 1 train overlaps with Fold 2 test"
      ],
      "gaps": [
        {
          "fold": 0,
          "gap_days": 20,
          "embargo_days": 20,
          "purge_days": 0
        },
        {
          "fold": 1,
          "gap_days": 20,
          "embargo_days": 20,
          "purge_days": 0
        },
        {
          "fold": 2,
          "gap_days": 20,
          "embargo_days": 20,
          "purge_days": 0
        }
      ],
      "coverage": {
        "total_train_days": 862,
        "total_test_days": 597,
        "avg_train_days": 287.3333333333333,
        "avg_test_days": 199.0
      }
    }
  }
}