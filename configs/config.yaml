# @package _global_

# ATFT-GAT-FAN グローバル設定
defaults:
  - _self_
  - data: jpx_parquet
  - model: atft_gat_fan_v1
  - train: adaptive
  - experiment: baseline
  - inference: batch
  - override hydra/launcher: joblib

# プロジェクト設定
project:
  name: "ATFT-GAT-FAN"
  version: "1.0.0"
  seed: 42
  deterministic: true

# 実行モード
mode: train  # train, evaluate, predict, serve

# デバッグ設定
debug:
  enabled: false
  fast_dev_run: 10
  profiler: false
  detect_anomaly: false

# パス設定
paths:
  root: ${hydra:runtime.cwd}
  data: ${paths.root}/data
  models: ${paths.root}/models
  logs: ${paths.root}/logs
  cache: ${paths.root}/cache
  experiments: ${paths.root}/experiments

# ハードウェア設定
hardware:
  device: ${oc.env:DEVICE,cuda}
  gpu_id: 0
  num_workers: ${oc.env:NUM_WORKERS,8}
  pin_memory: true
  mixed_precision: true
  compile_model: true  # PyTorch 2.0+

# ログ設定
logging:
  level: INFO
  mlflow:
    tracking_uri: ${oc.env:MLFLOW_TRACKING_URI,file://${paths.experiments}}
    experiment_name: ${project.name}
  wandb:
    enabled: ${oc.env:WANDB_ENABLED,false}
    project: ${project.name}
    entity: ${oc.env:WANDB_ENTITY,null}

# Hydra設定
hydra:
  run:
    dir: ${paths.logs}/${now:%Y-%m-%d}/${now:%H-%M-%S}
  sweep:
    dir: ${paths.logs}/multirun/${now:%Y-%m-%d}/${now:%H-%M-%S}
    subdir: ${hydra.job.num.${hydra.job.num}}
  job:
    name: ${project.name}
    chdir: false
